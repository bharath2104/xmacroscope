#
# Custom scalar & enumeration types
#
# Define an ISO-8601 date object for use in types
scalar Date

enum Gender {
  male
  female
  other
}

enum Handedness {
  left
  right
  ambidextrous
}

#
# Interfaces
#
interface Message {
  type: String
  timestamp: String
}

#
# Types
#
type Avatar {
  id: ID!
  name: String
  runMillis: Int
}

type MessageAny implements Message {
  type: String!
  timestamp: String!
  avatar: Avatar
  results: [RunResult]
}

type MessageRunCompleted implements Message {
  type: String
  timestamp: String
  avatar: Avatar
  results: [RunResult]!
}

type MessageRunInitiated implements Message {
  type: String
  timestamp: String
  avatar: Avatar
}

type MessageRunSelected implements Message {
  type: String
  timestamp: String
  avatar: Avatar
}

type Person {
  id: ID!
  name: String
  icon: String
  color: String
  gender: Gender
  ageGroup: String
  favoriteActivity: String
  handedness: Handedness
  height: Int
  siblings: Int
  zipCode: String
  state: String
  latitude: Float
  longitude: Float
}

type Run {
  avatar: Avatar!
  person: Person!
  timestamp: String
  lane: Int
  started: Boolean
  falseStart: Boolean
  timeMillis: Int
}

type RunRecord {
  id: ID
  opponent: String
  opponentName: String
  opponentTime: String
  start: Date
  end: Date
  PersonId: ID
  Person: Person
}

type RunResult {
  lane: Int
  person: Person
  started: Boolean
  falseStart: Boolean
  timeMillis: Int
}

type Setting {
  location: String
  latitude: Float
  longitude: Float
  preRunDelay: Int
  postRunDelay: Int
  startLineTimeout: Int
  runTimeout: Int
  attractDelay: Int
}

#
# Inputs
#
input AvatarInput {
  name: String
  runMillis: Int
}

input MessageAnyInput {
  type: String!
  timestamp: String!
  avatar: AvatarInput
  results: [RunResultInput]
}

input PersonInput {
  name: String
  icon: String
  color: String
  gender: Gender
  ageGroup: String
  favoriteActivity: String
  handedness: Handedness
  height: Int
  siblings: Int
  zipCode: String
  state: String
  latitude: Float
  longitude: Float
}

input RunRecordFinishInput {
  id: ID!
  finish: Date!
}

input RunRecordInput {
  start: Date!
  opponent: String
  opponentName: String
  opponentTime: Int
  person: PersonInput
}

input RunResultInput {
  lane: Int
  person: PersonInput
  started: Boolean
  falseStart: Boolean
  timeMillis: Int
}

input RunSelectInput {
  opponent: String
  opponentName: String
  opponentTime: Int
}
